{"id":"agent-skills-5yx","title":"Epic: Create coderabbit-review-resolver skill","description":"Create a new agent skill that fetches open inline CodeRabbit AI review comments from a GitHub PR, plans fixes as beads tasks via hb, and dispatches @worker agents to resolve them. Success: a complete skill under skills/coderabbit-review-resolver/ with SKILL.md (\u003c500 lines), 3 reference docs, 1 shell script, and README.md updated. Hard dependency on hb CLI for planning. Code-fix only (no GitHub comment replies). Auto-detects PR from current branch. Inline review comments only (no summary comments).","status":"open","priority":1,"issue_type":"epic","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","created_at":"2026-02-18T01:11:48.843204297+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:23:44.944415591+06:00","labels":["needs-integration-review","scope:medium"]}
{"id":"agent-skills-5yx.1","title":"Create fetch-review-comments.sh script","description":"## Files\n- skills/coderabbit-review-resolver/scripts/fetch-review-comments.sh (create)\n\n## What to do\nCreate a shell script that fetches and filters CodeRabbit inline review comments from a GitHub PR.\n\n**Input:** Optional `--pr \u003cnumber\u003e` flag. If omitted, auto-detect PR number from current branch via `gh pr view --json number -q .number`.\n\n**Output:** JSON array to stdout: `[{\"path\": \"src/foo.ts\", \"line\": 42, \"side\": \"RIGHT\", \"body\": \"...\", \"url\": \"https://...\", \"id\": 123, \"in_reply_to_id\": null|number, \"created_at\": \"...\", \"updated_at\": \"...\"}]`\n\n**Behavior:**\n1. Validate `gh` CLI is installed and authenticated (`gh auth status`). Exit 1 with stderr message if not.\n2. If `--pr` not provided, run `gh pr view --json number -q .number`. Exit 1 if no PR found for current branch.\n3. Extract owner/repo from `gh repo view --json nameWithOwner -q .nameWithOwner`.\n4. Fetch ALL review comments using `gh api` with pagination: `repos/{owner}/{repo}/pulls/{pr}/comments` (use `--paginate`).\n5. Filter to comments where `.user.login == \"coderabbitai\"`.\n6. Filter OUT resolved/outdated comments. A comment is considered open if it is not part of a resolved review thread. Use the GraphQL API to check thread resolution status: query `pullRequest.reviewThreads` and cross-reference by comment node IDs. Only include comments from threads where `isResolved == false`.\n7. Output the filtered JSON array to stdout.\n8. If zero comments remain after filtering, output `[]` and exit 0 (not an error).\n\n**Error handling:**\n- All status/progress messages go to stderr (`\u003e\u00262`).\n- Machine-readable JSON output goes to stdout only.\n- Exit codes: 0 = success, 1 = missing deps/no PR/API error.\n\n**Script header:** Include a descriptive comment block explaining usage, prerequisites (`gh` CLI authenticated), and output format.\n\n**Style:** Follow AGENTS.md script conventions — `#!/usr/bin/env bash`, `set -euo pipefail`, descriptive header comment.\n\n## Don't\n- Don't use `jq` as a hard requirement — use `gh api --jq` built-in jq support instead\n- Don't fetch PR-level (non-review) comments — only inline review comments on specific lines\n- Don't include the CodeRabbit summary/walkthrough comment (it's a PR-level comment, not a review comment)\n- Don't hardcode any repo or PR number\n- Don't use Python or Node — pure bash + gh CLI","acceptance_criteria":"1. Running `bash fetch-review-comments.sh` on a branch with a PR that has CodeRabbit reviews outputs valid JSON array to stdout. 2. Running with `--pr 123` fetches comments for PR 123 specifically. 3. Only coderabbitai-authored comments appear in output. 4. Resolved threads are excluded. 5. Running on a branch with no PR exits 1 with helpful stderr message. 6. Running without gh CLI exits 1 with helpful stderr message. 7. Empty result outputs `[]` and exits 0. 8. All non-JSON output goes to stderr.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":45,"created_at":"2026-02-18T01:12:13.620689873+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:17:54.052732395+06:00","closed_at":"2026-02-18T01:17:54.052732395+06:00","close_reason":"deddd36 Create fetch-review-comments.sh script","labels":["scope:small"],"dependencies":[{"issue_id":"agent-skills-5yx.1","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:12:13.622119367+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.10","title":"Update README.md with coderabbit-review-resolver skill","description":"## Files\n- README.md (modify)\n\n## What to do\nAdd the new skill to the Available Skills table in README.md.\n\nAdd this row to the table after the existing entries:\n\n| [coderabbit-review-resolver](skills/coderabbit-review-resolver/SKILL.md) | Fetch open CodeRabbit AI review comments from a GitHub PR, plan fixes as beads tasks, and dispatch workers to resolve them |\n\n**Also update the Quick Start example** if it currently only shows one skill — add a note that multiple skills are available.\n\n## Don't\n- Don't modify any other content in README.md\n- Don't change the table format\n- Don't remove existing skill entries","acceptance_criteria":"1. README.md contains a row for coderabbit-review-resolver in the Available Skills table. 2. The link points to skills/coderabbit-review-resolver/SKILL.md. 3. The description matches the SKILL.md frontmatter description. 4. Existing skill entries are unchanged.","status":"closed","priority":3,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":10,"created_at":"2026-02-18T01:14:23.600031262+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:22:55.31746777+06:00","closed_at":"2026-02-18T01:22:55.31746777+06:00","close_reason":"a33aa23 Add coderabbit-review-resolver to README Available Skills table","labels":["scope:trivial"],"dependencies":[{"issue_id":"agent-skills-5yx.10","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:14:23.601155559+06:00","created_by":"karma.gainforest.id"},{"issue_id":"agent-skills-5yx.10","depends_on_id":"agent-skills-5yx.9","type":"blocks","created_at":"2026-02-18T01:14:32.984168347+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.11","title":"Fix coderabbitai[bot] login filter in fetch script","description":"## Files\n- skills/coderabbit-review-resolver/scripts/fetch-review-comments.sh (modify)\n\n## What to do\nTwo fixes in the fetch script:\n\n**Fix 1 — Bot login filter (CRITICAL, line 89):**\nChange the jq filter from:\n```bash\nCR_COMMENTS=$(echo \"$ALL_COMMENTS\" | jq '[.[] | select(.user_login == \"coderabbitai\")]')\n```\nto:\n```bash\nCR_COMMENTS=$(echo \"$ALL_COMMENTS\" | jq '[.[] | select(.user_login == \"coderabbitai[bot]\")]')\n```\n\nThe GitHub API returns `\"coderabbitai[bot]\"` as the bot's `user.login`, not `\"coderabbitai\"`. The current filter matches zero comments on every real PR.\n\n**Fix 2 — Remove dead variable (line 101):**\nDelete this line entirely:\n```bash\nCR_NODE_IDS=$(echo \"$CR_COMMENTS\" | jq -r '[.[].node_id] | @json')\n```\nThis variable is computed but never referenced. The script correctly uses `databaseId` from GraphQL matched against REST `.id` — `CR_NODE_IDS` is a leftover.\n\n## Don't\n- Don't change any other logic in the script\n- Don't refactor the jq usage (that's a separate task)","acceptance_criteria":"1. Running `bash fetch-review-comments.sh --pr 7` inside a clone of hypercerts-org/hypercerts-scaffold-atproto returns a non-empty JSON array (not `[]`). 2. Every element in the output has `body` field containing CodeRabbit review text. 3. The variable `CR_NODE_IDS` no longer exists in the script. 4. No other lines are changed.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":15,"created_at":"2026-02-18T01:35:32.404513192+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:37:36.77137067+06:00","closed_at":"2026-02-18T01:37:36.77137067+06:00","close_reason":"92b9228 Fix coderabbitai[bot] login filter and remove dead CR_NODE_IDS variable","labels":["scope:trivial"],"dependencies":[{"issue_id":"agent-skills-5yx.11","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:35:32.405751131+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.12","title":"Add jq dependency check to fetch script","description":"## Files\n- skills/coderabbit-review-resolver/scripts/fetch-review-comments.sh (modify)\n\n## What to do\nThe script uses standalone `jq` in 12 places but never checks for it at startup. Add a dependency check.\n\n**Add after the `gh auth status` check (after line 47), before the PR detection section:**\n```bash\nif ! command -v jq \u0026\u003e/dev/null; then\n  echo \"Error: jq is required but not installed. Install it from https://jqlang.github.io/jq/download/\" \u003e\u00262\n  exit 1\nfi\n```\n\n**Also update the script header comment** (around line 10) to list `jq` as a prerequisite alongside `gh`:\n```\n# Prerequisites:\n#   - gh CLI installed and authenticated (run: gh auth status)\n#   - jq installed (https://jqlang.github.io/jq/download/)\n```\n\n## Don't\n- Don't rewrite the script to avoid jq — just declare and check the dependency\n- Don't change any other logic","acceptance_criteria":"1. Running the script without jq installed exits 1 with a stderr message mentioning jq. 2. The script header comment lists jq as a prerequisite. 3. Running the script with jq installed works as before.","status":"closed","priority":2,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":10,"created_at":"2026-02-18T01:35:38.80681327+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:39:31.556924452+06:00","closed_at":"2026-02-18T01:39:31.556924452+06:00","close_reason":"903bf7c Add jq dependency check to fetch script","labels":["scope:trivial"],"dependencies":[{"issue_id":"agent-skills-5yx.12","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:35:38.808119327+06:00","created_by":"karma.gainforest.id"},{"issue_id":"agent-skills-5yx.12","depends_on_id":"agent-skills-5yx.11","type":"blocks","created_at":"2026-02-18T01:36:10.839613716+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.13","title":"Fix category list mismatch in worker-dispatch-patterns.md","description":"## Files\n- skills/coderabbit-review-resolver/references/worker-dispatch-patterns.md (modify)\n\n## What to do\nThe field guide table in Section 1 (around line 37) lists incorrect categories:\n```\n| `{category}` | One of: `bug`, `security`, `style`, `performance`, `maintainability` |\n```\n\nThis contradicts `comment-triage-guide.md` which defines these 7 categories:\n`bug`, `security`, `error-handling`, `type-safety`, `performance`, `style`, `nit`\n\n**Fix the field guide table row to:**\n```\n| `{category}` | One of: `bug`, `security`, `error-handling`, `type-safety`, `performance`, `style`, `nit` (see [comment-triage-guide.md](comment-triage-guide.md)) |\n```\n\n**Also fix Section 5 (around lines 140-146) — remove the CodeRabbit severity→priority mapping table entirely.** Replace it with a note:\n```\n**Priority:** Use the priority already assigned during Phase 2 triage (P1/P2/P3 mapped from category). Do not re-derive priority from CodeRabbit's severity labels.\n```\n\nThis eliminates the dual priority system confusion. SKILL.md Phase 2 is the single source of truth for priority.\n\n## Don't\n- Don't change any other sections of the document\n- Don't modify the task description template structure\n- Don't change the time estimation table","acceptance_criteria":"1. The field guide table lists all 7 categories matching comment-triage-guide.md. 2. The word 'maintainability' does not appear in the document. 3. The CodeRabbit severity→priority mapping table (critical/high/medium/low/nitpick) is removed. 4. A note directs readers to use Phase 2 triage priority instead. 5. No other sections are changed.","status":"closed","priority":2,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":15,"created_at":"2026-02-18T01:35:48.659593519+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:37:34.7164193+06:00","closed_at":"2026-02-18T01:37:34.7164193+06:00","close_reason":"92b9228 Fix category list and remove severity mapping in worker-dispatch-patterns.md","labels":["scope:trivial"],"dependencies":[{"issue_id":"agent-skills-5yx.13","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:35:48.660841126+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.14","title":"Fix semver version and add plan-rejected path in SKILL.md","description":"## Files\n- skills/coderabbit-review-resolver/SKILL.md (modify)\n\n## What to do\nTwo minor fixes:\n\n**Fix 1 — Semver version (line 7):**\nChange:\n```yaml\n  version: \"1.0\"\n```\nto:\n```yaml\n  version: \"1.0.0\"\n```\nAGENTS.md specifies semver format which requires three components.\n\n**Fix 2 — Add plan-rejected path after Phase 2 Step 3:**\nAfter the line \"Wait for user approval before proceeding to Phase 3.\" (around line 119), add a short note:\n\n```markdown\nIf the user rejects or wants to revise the plan, adjust the grouping, priorities, or skipped comments based on their feedback and present the updated table. Repeat until approved.\n```\n\nThis gives a cold agent clear guidance on what to do when the user says \"no\" or \"change this\".\n\n## Don't\n- Don't change any other content\n- Don't rewrite Phase 2 — just add the one sentence after the approval gate","acceptance_criteria":"1. YAML frontmatter version is \"1.0.0\". 2. A sentence about handling plan rejection exists after the user approval gate in Phase 2 Step 3. 3. No other content is changed.","status":"closed","priority":3,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":10,"created_at":"2026-02-18T01:35:56.353025008+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:37:30.63138942+06:00","closed_at":"2026-02-18T01:37:30.63138942+06:00","close_reason":"b698ea5 Fix semver version and add plan-rejected path in SKILL.md","labels":["scope:trivial"],"dependencies":[{"issue_id":"agent-skills-5yx.14","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:35:56.354419521+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.15","title":"Fix GraphQL comments(first:1) to comments(first:100) in gh-api-patterns.md","description":"## Files\n- skills/coderabbit-review-resolver/references/gh-api-patterns.md (modify)\n\n## What to do\nThe GraphQL query examples use `comments(first: 1)` (lines ~70, 91, 113) to fetch only the first comment in a review thread. However, the actual fetch script uses `comments(first: 100)` because a thread can have multiple CodeRabbit comments and all their `databaseId`s need to be collected for the resolution filter.\n\n**Update all three occurrences** of `comments(first: 1)` to `comments(first: 100)` in:\n1. The main GraphQL query example (Section 2, around line 70)\n2. The `gh api graphql` CLI example (Section 2, around line 91)\n3. The pagination example (Section 2, around line 113)\n\n**Add a brief note** after the main query explaining why `first: 100`:\n```markdown\n\u003e **Note:** Use `comments(first: 100)` rather than `comments(first: 1)` because a review thread can contain multiple comments. All comment `databaseId`s in a resolved thread must be collected to correctly filter them out from the REST results.\n```\n\n## Don't\n- Don't change any other sections\n- Don't modify the REST API section","acceptance_criteria":"1. All occurrences of `comments(first: 1)` in the file are changed to `comments(first: 100)`. 2. A note explains why first:100 is needed. 3. No other sections are changed.","status":"closed","priority":3,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":10,"created_at":"2026-02-18T01:36:04.633404561+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:37:43.86732289+06:00","closed_at":"2026-02-18T01:37:43.86732289+06:00","close_reason":"16509d5 Fix GraphQL comments(first:1) to comments(first:100) in gh-api-patterns.md","labels":["scope:trivial"],"dependencies":[{"issue_id":"agent-skills-5yx.15","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:36:04.63477034+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.16","title":"Fix GraphQL query escaping bug in fetch-review-comments.sh","description":"## Files\n- skills/coderabbit-review-resolver/scripts/fetch-review-comments.sh (modify)\n\n## What to do\nThe GraphQL query construction (lines 118-140) uses `\\\\\\\"...\\\\\\\"` escaping inside a double-quoted bash string, which produces literal backslash-quote characters that GitHub's GraphQL API rejects with:\n```\ngh: Expected VALUE, actual: UNKNOWN_CHAR (\"\\\\\") at [2, 23]\n```\n\n**Replace the entire GraphQL section (lines 118-140) with a proper approach using `gh api graphql` variable flags (`-f` and `-F`):**\n\n```bash\nif [[ \"$CURSOR\" == \"null\" ]]; then\n  THREAD_DATA=$(gh api graphql -f query='\n    query($owner: String!, $repo: String!, $pr: Int!) {\n      repository(owner: $owner, name: $repo) {\n        pullRequest(number: $pr) {\n          reviewThreads(first: 100) {\n            pageInfo { hasNextPage endCursor }\n            nodes {\n              isResolved\n              comments(first: 100) {\n                nodes { databaseId }\n              }\n            }\n          }\n        }\n      }\n    }' -f owner=\"$OWNER\" -f repo=\"$REPO_NAME\" -F pr=\"$PR_NUMBER\")\nelse\n  THREAD_DATA=$(gh api graphql -f query='\n    query($owner: String!, $repo: String!, $pr: Int!, $after: String) {\n      repository(owner: $owner, name: $repo) {\n        pullRequest(number: $pr) {\n          reviewThreads(first: 100, after: $after) {\n            pageInfo { hasNextPage endCursor }\n            nodes {\n              isResolved\n              comments(first: 100) {\n                nodes { databaseId }\n              }\n            }\n          }\n        }\n      }\n    }' -f owner=\"$OWNER\" -f repo=\"$REPO_NAME\" -F pr=\"$PR_NUMBER\" -f after=\"$CURSOR\")\nfi\n```\n\nKey changes:\n1. Use single-quoted query strings (no escaping needed for GraphQL)\n2. Use `-f` flags for string variables ($owner, $repo, $after) and `-F` for integer variables ($pr)\n3. Use GraphQL query variables (`$owner`, `$repo`, `$pr`, `$after`) instead of bash string interpolation\n4. Split into two branches: without cursor (first page) and with cursor (subsequent pages)\n5. Remove the separate `GRAPHQL_QUERY` variable — inline the query into the `gh api graphql` call\n\n## Don't\n- Don't change the REST API fetch section\n- Don't change the jq post-processing logic (lines 142+)\n- Don't change the pagination loop structure (while/break/PAGE increment)","acceptance_criteria":"1. Running `bash fetch-review-comments.sh --pr 7` inside a clone of hypercerts-org/hypercerts-scaffold-atproto outputs valid JSON to stdout (not an error). 2. The output is a non-empty array containing CodeRabbit comments. 3. No `\\\\\\\"...\\\\\\\"` escaping patterns remain in the GraphQL section. 4. The script handles pagination (the while loop still works for \u003e100 threads).","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":20,"created_at":"2026-02-18T01:43:34.389660886+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:45:14.765953678+06:00","closed_at":"2026-02-18T01:45:14.765953678+06:00","close_reason":"0ba8a34 fix GraphQL query escaping in fetch-review-comments.sh","labels":["scope:small"],"dependencies":[{"issue_id":"agent-skills-5yx.16","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:43:34.390904042+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.2","title":"Create gh-api-patterns.md reference doc","description":"## Files\n- skills/coderabbit-review-resolver/references/gh-api-patterns.md (create)\n\n## What to do\nCreate a reference document that documents the exact GitHub API endpoints and `gh` CLI patterns needed to fetch PR review comments, with emphasis on CodeRabbit-specific filtering.\n\n**Sections to include:**\n\n1. **REST API: Pull Request Review Comments**\n   - Endpoint: `GET /repos/{owner}/{repo}/pulls/{pr}/comments`\n   - Pagination: `--paginate` flag with `gh api`\n   - Filtering with `--jq` for `.user.login == \"coderabbitai\"`\n   - Response shape: document the key fields (path, line, side, body, id, in_reply_to_id, user.login, created_at, updated_at, html_url)\n\n2. **GraphQL API: Review Thread Resolution Status**\n   - Query: `pullRequest { reviewThreads(first: 100) { nodes { isResolved, comments(first: 1) { nodes { id, databaseId } } } } }`\n   - How to cross-reference REST comment IDs with GraphQL thread nodes\n   - Pagination for repos with \u003e100 review threads\n\n3. **Auto-detecting PR context**\n   - `gh pr view --json number -q .number` for current branch PR\n   - `gh repo view --json nameWithOwner -q .nameWithOwner` for owner/repo\n   - Edge cases: detached HEAD, multiple PRs for same branch, draft PRs\n\n4. **Common pitfalls**\n   - Review comments vs. issue comments vs. PR comments (3 different APIs)\n   - `line` vs `original_line` (outdated diff positions)\n   - Rate limiting with `--paginate` on large PRs\n   - Comments on deleted files\n\n**Format:** Follow AGENTS.md markdown conventions. Use ```bash code blocks for all gh commands. Include example output snippets.\n\n## Don't\n- Don't include authentication setup (assume gh is already authenticated)\n- Don't document non-GitHub APIs\n- Don't exceed 200 lines","acceptance_criteria":"1. Document exists at skills/coderabbit-review-resolver/references/gh-api-patterns.md. 2. All 4 sections present with working gh api command examples. 3. GraphQL query for thread resolution is syntactically valid. 4. Under 200 lines. 5. All code blocks specify language.","status":"closed","priority":2,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":30,"created_at":"2026-02-18T01:12:24.973901812+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:17:06.3299647+06:00","closed_at":"2026-02-18T01:17:06.3299647+06:00","close_reason":"d671073 Create gh-api-patterns.md reference doc","labels":["scope:small"],"dependencies":[{"issue_id":"agent-skills-5yx.2","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:12:24.975184743+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.3","title":"Create comment-triage-guide.md reference doc","description":"## Files\n- skills/coderabbit-review-resolver/references/comment-triage-guide.md (create)\n\n## What to do\nCreate a reference document that teaches an agent how to categorize, prioritize, and group CodeRabbit review comments into actionable beads tasks.\n\n**Sections to include:**\n\n1. **Comment Categories** — Define these categories with examples of CodeRabbit comment patterns that match each:\n   - `bug`: Logic errors, null pointer risks, race conditions, incorrect return values\n   - `security`: Injection risks, auth bypasses, secret exposure, unsafe deserialization\n   - `error-handling`: Missing try/catch, unhandled promise rejections, swallowed errors\n   - `type-safety`: Missing type annotations, unsafe casts, any usage, non-null assertions without justification\n   - `performance`: N+1 queries, unnecessary re-renders, missing memoization, large bundle imports\n   - `style`: Naming conventions, dead code, import ordering, formatting\n   - `nit`: Minor suggestions, alternative approaches, cosmetic preferences\n\n2. **Priority Mapping** — Map categories to beads priority levels:\n   - P1 (critical): bug, security\n   - P2 (important): error-handling, type-safety\n   - P3 (nice-to-have): performance, style, nit\n\n3. **Grouping Strategy** — How to group multiple comments into a single beads task:\n   - **By file**: If 3+ comments touch the same file, group them into one task\n   - **By theme**: If comments across files share the same category (e.g., all are 'error-handling'), group them\n   - **Never group across priorities**: A P1 bug and a P3 nit in the same file become two tasks\n   - **Max comments per task**: 5-7. If more, split further.\n\n4. **When to Skip a Comment** — Criteria for intentionally not creating a task:\n   - Comment is a question, not an actionable suggestion\n   - Comment suggests an alternative approach but current approach is valid\n   - Comment is about code that was intentionally written that way (document why in a reply)\n   - Comment is a false positive (CodeRabbit misread the code)\n   - Agent should flag skipped comments to the user for confirmation\n\n5. **Example Triage** — Walk through 5-6 example CodeRabbit comments showing the category assignment, priority, and grouping decision for each.\n\n**Format:** Use tables for the category/priority mappings. Use blockquotes for example CodeRabbit comments. Follow AGENTS.md markdown conventions.\n\n## Don't\n- Don't make this specific to any programming language — keep it language-agnostic\n- Don't include instructions on how to fix the issues (that's the worker's job)\n- Don't exceed 200 lines","acceptance_criteria":"1. Document exists at skills/coderabbit-review-resolver/references/comment-triage-guide.md. 2. All 5 sections present. 3. Category-to-priority mapping table is complete. 4. Grouping rules are unambiguous (a reader can apply them mechanically). 5. At least 5 example comments with triage decisions. 6. Under 200 lines.","status":"closed","priority":2,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":30,"created_at":"2026-02-18T01:12:41.05667727+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:17:11.374033197+06:00","closed_at":"2026-02-18T01:17:11.374033197+06:00","close_reason":"4be1497 Create comment-triage-guide.md reference doc","labels":["scope:small"],"dependencies":[{"issue_id":"agent-skills-5yx.3","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:12:41.057938029+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.4","title":"Create worker-dispatch-patterns.md reference doc","description":"## Files\n- skills/coderabbit-review-resolver/references/worker-dispatch-patterns.md (create)\n\n## What to do\nCreate a reference document that teaches an agent how to write well-scoped beads task descriptions from CodeRabbit review comments, suitable for dispatch to @worker agents.\n\n**Sections to include:**\n\n1. **Task Description Template** — A fill-in-the-blank template for creating beads tasks from CodeRabbit comments:\n   ```\n   ## Files\n   - {file_path} (modify)\n\n   ## What to do\n   CodeRabbit flagged: {category} issue at line {line}.\n\n   **Original comment:**\n   \u003e {comment body}\n\n   **Suggested fix:**\n   {extracted suggestion or agent's interpretation}\n\n   **Context:**\n   {any additional context about the surrounding code}\n\n   ## Don't\n   - Don't change unrelated code in the same file\n   - Don't introduce new dependencies unless the comment specifically requires it\n   ```\n\n2. **Acceptance Criteria Template** — How to write the `--acceptance` flag content:\n   - Must reference the specific CodeRabbit concern\n   - Must be binary pass/fail (not subjective)\n   - Example: \"The function handles null input by returning early instead of throwing. The try/catch block in handleSubmit catches and logs the error.\"\n\n3. **Grouping into Tasks** — When multiple comments become one task:\n   - Include ALL comment bodies in the description (numbered)\n   - List ALL affected files\n   - Acceptance criteria must cover every comment\n   - Use the highest priority among the grouped comments\n\n4. **Time Estimation Heuristics**:\n   - Single comment, single file, clear fix: 15 min (`-e 15`)\n   - 2-3 comments, single file: 30 min (`-e 30`)\n   - 3-5 comments, multiple files, same theme: 45 min (`-e 45`)\n   - Complex refactor suggested: 60 min (`-e 60`)\n\n5. **Dispatch Command Pattern** — The exact hb commands to create and dispatch:\n   ```bash\n   hb create \"\u003ctitle\u003e\" -t task -p \u003cpriority\u003e --parent \u003cepic-id\u003e \\\n     -d \"\u003cdescription per template\u003e\" \\\n     --acceptance \"\u003ccriteria per template\u003e\" \\\n     -e \u003cminutes\u003e \\\n     -l scope:small \\\n     --json\n   ```\n   Then dispatch: tell the user to invoke @worker with the task ID.\n\n6. **Verification After Workers Complete** — How to check the aggregate result:\n   - Review the diff of all worker commits together\n   - Check for seam issues (conflicting changes, broken imports)\n   - Optionally re-run CodeRabbit by pushing the fixes\n\n## Don't\n- Don't include actual code fixes (this is about task creation, not implementation)\n- Don't duplicate the beads workflow from gainforest-beads skill\n- Don't exceed 200 lines","acceptance_criteria":"1. Document exists at skills/coderabbit-review-resolver/references/worker-dispatch-patterns.md. 2. Task description template is complete and fill-in-the-blank ready. 3. Acceptance criteria template produces binary pass/fail criteria. 4. Time estimation table covers all 4 tiers. 5. Dispatch command pattern uses correct hb CLI syntax. 6. Under 200 lines.","status":"closed","priority":2,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":30,"created_at":"2026-02-18T01:12:57.596008679+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:17:11.43241467+06:00","closed_at":"2026-02-18T01:17:11.43241467+06:00","close_reason":"4be1497 Add worker-dispatch-patterns.md reference doc","labels":["scope:small"],"dependencies":[{"issue_id":"agent-skills-5yx.4","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:12:57.597771178+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.5","title":"Create SKILL.md skeleton with frontmatter, prerequisites, and critical rules","description":"## Files\n- skills/coderabbit-review-resolver/SKILL.md (create)\n\n## What to do\nCreate the initial SKILL.md file with the structural skeleton that other tasks will fill in.\n\n**Frontmatter:**\n```yaml\n---\nname: coderabbit-review-resolver\ndescription: Fetch open CodeRabbit AI review comments from a GitHub PR, plan fixes as beads tasks, and dispatch workers to resolve them. Use when a PR has unresolved CodeRabbit reviews that need addressing.\ncompatibility: Requires gh CLI (authenticated), hb CLI (beads), git repository with GitHub remote\nmetadata:\n  author: gainforest\n  version: \"1.0\"\n---\n```\n\n**Sections to write (with full content):**\n\n1. **Title + intro paragraph**: `# CodeRabbit Review Resolver` — one sentence explaining the skill resolves open CodeRabbit inline review comments by planning and dispatching worker agents.\n\n2. **When to Apply**: Use this skill when:\n   - A PR has unresolved CodeRabbit review comments that need fixing\n   - The user asks to address/fix/resolve CodeRabbit feedback\n   - After a CodeRabbit review is posted and the user wants to act on it\n\n3. **Prerequisites**: Before starting, verify:\n   - `gh` CLI is installed and authenticated (`gh auth status`)\n   - `hb` CLI is installed (`hb version`)\n   - Current directory is a git repo with a GitHub remote\n   - The current branch has an open PR (or user provides a PR number)\n\n4. **Critical Rules** (numbered):\n   1. Never modify code directly — this skill plans and dispatches, it does not implement fixes\n   2. Always run the fetch script first — don't assume you know what CodeRabbit said\n   3. Present the triage plan to the user before creating beads tasks — get approval first\n   4. One beads epic per PR — don't create multiple epics for the same PR's review\n   5. Workers must not change code outside the scope of the CodeRabbit comment they're fixing\n   6. After all workers complete, review the aggregate diff for seam issues before marking the epic done\n\n5. **Empty section headers** (placeholders for T6-T8):\n   - `## Phase 1: Fetch Review Comments`\n   - `## Phase 2: Plan and Triage`\n   - `## Phase 3: Dispatch Workers`\n   Each with a one-line placeholder: `\u003c!-- Content added by task agent-skills-5yx.X --\u003e`\n\n6. **Expected File Structure**:\n   ```text\n   skills/\n     coderabbit-review-resolver/\n       SKILL.md\n       references/\n         gh-api-patterns.md\n         comment-triage-guide.md\n         worker-dispatch-patterns.md\n       scripts/\n         fetch-review-comments.sh\n   ```\n\n7. **Further Reading** — links to the three reference docs using relative paths.\n\n## Don't\n- Don't write the Phase 1/2/3 content — leave those as placeholders\n- Don't exceed 120 lines for this skeleton (final assembled SKILL.md must be \u003c500 lines total)\n- Don't deviate from the frontmatter above","acceptance_criteria":"1. File exists at skills/coderabbit-review-resolver/SKILL.md. 2. YAML frontmatter is valid and matches the spec exactly. 3. All 7 sections present. 4. Phase 1/2/3 sections are empty placeholders with HTML comments. 5. Relative links to references/ and scripts/ are correct. 6. Under 120 lines.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":20,"created_at":"2026-02-18T01:13:22.704874409+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:16:54.791030457+06:00","closed_at":"2026-02-18T01:16:54.791030457+06:00","close_reason":"52b47ea Create SKILL.md skeleton for coderabbit-review-resolver","labels":["scope:trivial"],"dependencies":[{"issue_id":"agent-skills-5yx.5","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:13:22.706107117+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.6","title":"Write SKILL.md Phase 1: Fetch Review Comments","description":"## Files\n- skills/coderabbit-review-resolver/SKILL.md (modify — replace Phase 1 placeholder)\n\n## What to do\nReplace the `## Phase 1: Fetch Review Comments` placeholder in SKILL.md with the full Phase 1 instructions.\n\n**Content to write:**\n\nThe phase teaches the agent how to retrieve open CodeRabbit inline review comments from the current PR.\n\n**Step 1 — Detect PR context:**\n```bash\n# Auto-detect PR number from current branch\nPR_NUMBER=$(gh pr view --json number -q .number)\n# Or use explicit PR number if provided by user\n```\nInstruct the agent to ask the user for a PR number if auto-detection fails.\n\n**Step 2 — Run the fetch script:**\n```bash\nbash scripts/fetch-review-comments.sh\n# or with explicit PR:\nbash scripts/fetch-review-comments.sh --pr 123\n```\nReference the script path: [scripts/fetch-review-comments.sh](scripts/fetch-review-comments.sh)\n\n**Step 3 — Parse the output:**\n- The script outputs a JSON array to stdout\n- Each element has: path, line, side, body, url, id, in_reply_to_id, created_at, updated_at\n- Thread root comments have `in_reply_to_id: null`; replies have a non-null value\n- Instruct the agent to count total comments and report to user: \"Found X open CodeRabbit comments across Y files\"\n\n**Step 4 — Handle edge cases:**\n- Zero comments: Tell the user \"No open CodeRabbit comments found\" and stop\n- Script error: Check gh auth, check PR exists, report the error\n\n**Reference:** For details on the underlying API calls, see [references/gh-api-patterns.md](references/gh-api-patterns.md)\n\n**Keep this section to 40-60 lines.**\n\n## Don't\n- Don't rewrite other sections of SKILL.md — only replace the Phase 1 placeholder\n- Don't duplicate content from gh-api-patterns.md — reference it instead\n- Don't include the script source code — reference the file","acceptance_criteria":"1. Phase 1 section in SKILL.md has 4 numbered steps. 2. References scripts/fetch-review-comments.sh with relative link. 3. References references/gh-api-patterns.md with relative link. 4. Includes the exact bash commands to run. 5. Handles zero-comments and error edge cases. 6. Section is 40-60 lines. 7. No other sections of SKILL.md are modified.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":25,"created_at":"2026-02-18T01:13:35.502203494+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:19:26.559341572+06:00","closed_at":"2026-02-18T01:19:26.559341572+06:00","close_reason":"d9adfd9 Write Phase 1: Fetch Review Comments in SKILL.md","labels":["scope:trivial"],"dependencies":[{"issue_id":"agent-skills-5yx.6","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:13:35.50341896+06:00","created_by":"karma.gainforest.id"},{"issue_id":"agent-skills-5yx.6","depends_on_id":"agent-skills-5yx.1","type":"blocks","created_at":"2026-02-18T01:14:29.584938892+06:00","created_by":"karma.gainforest.id"},{"issue_id":"agent-skills-5yx.6","depends_on_id":"agent-skills-5yx.2","type":"blocks","created_at":"2026-02-18T01:14:29.640810621+06:00","created_by":"karma.gainforest.id"},{"issue_id":"agent-skills-5yx.6","depends_on_id":"agent-skills-5yx.5","type":"blocks","created_at":"2026-02-18T01:14:29.69420559+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.7","title":"Write SKILL.md Phase 2: Plan and Triage","description":"## Files\n- skills/coderabbit-review-resolver/SKILL.md (modify — replace Phase 2 placeholder)\n\n## What to do\nReplace the `## Phase 2: Plan and Triage` placeholder in SKILL.md with the full Phase 2 instructions.\n\n**Content to write:**\n\nThe phase teaches the agent how to categorize, group, and plan the fetched CodeRabbit comments into beads tasks.\n\n**Step 1 — Categorize each comment:**\n- Read each comment body and assign a category: bug, security, error-handling, type-safety, performance, style, nit\n- Assign priority based on category (P1/P2/P3)\n- Reference [references/comment-triage-guide.md](references/comment-triage-guide.md) for detailed criteria\n\n**Step 2 — Group comments into tasks:**\n- Group by file if 3+ comments in same file at same priority level\n- Group by theme if comments across files share the same category\n- Never group across priority levels\n- Max 5-7 comments per task; split if more\n- Each group becomes one beads task\n\n**Step 3 — Present the plan to the user:**\nInstruct the agent to output a summary table before creating any beads:\n```\n| # | Task Title | Files | Comments | Priority | Est. |\n|---|-----------|-------|----------|----------|------|\n| 1 | Fix null check in auth.ts | auth.ts:42,58 | 2 | P1 | 15m |\n| 2 | Add error handling across API routes | api/foo.ts:10, api/bar.ts:22 | 2 | P2 | 30m |\n| 3 | Style fixes in utils | utils.ts:5,12,18 | 3 | P3 | 15m |\n```\nWait for user approval before proceeding to Phase 3.\n\n**Step 4 — Handle skipped comments:**\n- If any comments are intentionally skipped (questions, false positives, preference disagreements), list them separately\n- Ask the user to confirm the skips\n\n**Step 5 — Create the beads epic:**\n```bash\nhb create \"Epic: Resolve CodeRabbit review for PR #\u003cN\u003e\" -t epic -p 1 \\\n  -d \"Resolve all open CodeRabbit inline review comments on PR #\u003cN\u003e. \u003ccount\u003e comments across \u003cfiles\u003e files.\" \\\n  -l scope:small \\\n  --json\n```\n\n**Keep this section to 50-70 lines.**\n\n## Don't\n- Don't rewrite other sections of SKILL.md — only replace the Phase 2 placeholder\n- Don't duplicate the full triage guide — reference it\n- Don't create actual beads tasks in this phase (that's Phase 3)","acceptance_criteria":"1. Phase 2 section in SKILL.md has 5 numbered steps. 2. References references/comment-triage-guide.md with relative link. 3. Includes the summary table format for user approval. 4. Includes the hb create command for the epic. 5. Handles skipped comments explicitly. 6. Section is 50-70 lines. 7. No other sections of SKILL.md are modified.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":25,"created_at":"2026-02-18T01:13:48.024619153+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:19:47.093650379+06:00","closed_at":"2026-02-18T01:19:47.093650379+06:00","close_reason":"3f0cc4b Write SKILL.md Phase 2: Plan and Triage","labels":["scope:trivial"],"dependencies":[{"issue_id":"agent-skills-5yx.7","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:13:48.025907816+06:00","created_by":"karma.gainforest.id"},{"issue_id":"agent-skills-5yx.7","depends_on_id":"agent-skills-5yx.3","type":"blocks","created_at":"2026-02-18T01:14:30.46114207+06:00","created_by":"karma.gainforest.id"},{"issue_id":"agent-skills-5yx.7","depends_on_id":"agent-skills-5yx.5","type":"blocks","created_at":"2026-02-18T01:14:30.511286498+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.8","title":"Write SKILL.md Phase 3: Dispatch Workers","description":"## Files\n- skills/coderabbit-review-resolver/SKILL.md (modify — replace Phase 3 placeholder)\n\n## What to do\nReplace the `## Phase 3: Dispatch Workers` placeholder in SKILL.md with the full Phase 3 instructions.\n\n**Content to write:**\n\nThe phase teaches the agent how to create beads tasks from the approved plan and dispatch @worker agents.\n\n**Step 1 — Create beads tasks:**\nFor each row in the approved plan table from Phase 2, create a task:\n```bash\nhb create \"\u003ctask title\u003e\" -t task -p \u003cpriority\u003e --parent \u003cepic-id\u003e \\\n  -d \"\u003cdescription per worker-dispatch-patterns.md template\u003e\" \\\n  --acceptance \"\u003cbinary pass/fail criteria\u003e\" \\\n  -e \u003cminutes\u003e \\\n  -l scope:small \\\n  --json\n```\nReference [references/worker-dispatch-patterns.md](references/worker-dispatch-patterns.md) for the task description template and acceptance criteria format.\n\n**Step 2 — Add dependencies (only when needed):**\n- If two tasks modify the same function/file in conflicting ways, add a dependency\n- If a refactor task must land before a feature task that builds on it, add a dependency\n- Most CodeRabbit review fixes are independent — default to no dependencies\n```bash\nhb dep add \u003cblocked-task\u003e \u003cblocker-task\u003e\n```\n\n**Step 3 — Commit the plan:**\n```bash\nhb sync \u0026\u0026 git add .beads/ \u0026\u0026 git commit -m \"beads: plan CodeRabbit fixes for PR #\u003cN\u003e\" \u0026\u0026 git push\n```\n\n**Step 4 — Dispatch workers:**\nInstruct the agent to tell the user which task IDs are ready for dispatch. The user invokes @worker for each:\n```\nReady for dispatch:\n- agent-skills-XXXX.1: Fix null check in auth.ts (P1, 15m)\n- agent-skills-XXXX.2: Add error handling across API routes (P2, 30m)\n- agent-skills-XXXX.3: Style fixes in utils (P3, 15m)\n\nDispatch with: @worker agent-skills-XXXX.1\n```\nTasks without dependencies can be dispatched in parallel.\n\n**Step 5 — Post-dispatch: Integration check:**\nAfter all workers complete:\n1. Review the aggregate diff: `git diff \u003cbase-branch\u003e...HEAD`\n2. Check for seam issues: conflicting imports, duplicate declarations, broken references\n3. If issues found, create follow-up tasks\n4. If clean, mark the epic for integration review:\n```bash\nhb update \u003cepic-id\u003e --add-label needs-integration-review\nhb sync \u0026\u0026 git add .beads/ \u0026\u0026 git commit -m \"beads: mark \u003cepic-id\u003e for review\" \u0026\u0026 git push\n```\n\n**Keep this section to 50-70 lines.**\n\n## Don't\n- Don't rewrite other sections of SKILL.md — only replace the Phase 3 placeholder\n- Don't duplicate the full dispatch patterns doc — reference it\n- Don't include code fix examples (workers handle that)","acceptance_criteria":"1. Phase 3 section in SKILL.md has 5 numbered steps. 2. References references/worker-dispatch-patterns.md with relative link. 3. Includes hb create, hb dep add, hb sync commands with correct syntax. 4. Includes the dispatch summary format showing task IDs. 5. Includes post-dispatch integration check steps. 6. Section is 50-70 lines. 7. No other sections of SKILL.md are modified.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":25,"created_at":"2026-02-18T01:14:02.795206123+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:20:11.094240563+06:00","closed_at":"2026-02-18T01:20:11.094240563+06:00","close_reason":"55d584e Add Phase 3: Dispatch Workers to SKILL.md","labels":["scope:trivial"],"dependencies":[{"issue_id":"agent-skills-5yx.8","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:14:02.796371947+06:00","created_by":"karma.gainforest.id"},{"issue_id":"agent-skills-5yx.8","depends_on_id":"agent-skills-5yx.4","type":"blocks","created_at":"2026-02-18T01:14:31.523718755+06:00","created_by":"karma.gainforest.id"},{"issue_id":"agent-skills-5yx.8","depends_on_id":"agent-skills-5yx.5","type":"blocks","created_at":"2026-02-18T01:14:31.573681674+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-5yx.9","title":"Assemble final SKILL.md and verify structure","description":"## Files\n- skills/coderabbit-review-resolver/SKILL.md (modify — final assembly)\n\n## What to do\nAfter tasks agent-skills-5yx.5 (skeleton), agent-skills-5yx.6 (Phase 1), agent-skills-5yx.7 (Phase 2), and agent-skills-5yx.8 (Phase 3) are all complete, do a final review and assembly pass on SKILL.md.\n\n**Checks to perform:**\n\n1. **Verify all placeholders are replaced**: No `\u003c!-- Content added by task --\u003e` comments should remain\n2. **Verify total line count**: Must be under 500 lines (per AGENTS.md guidelines)\n3. **Verify all relative links work**: Check that these paths exist:\n   - scripts/fetch-review-comments.sh\n   - references/gh-api-patterns.md\n   - references/comment-triage-guide.md\n   - references/worker-dispatch-patterns.md\n4. **Verify YAML frontmatter**: Parse it mentally — name, description, compatibility, metadata fields all present\n5. **Verify section flow**: Read the document top-to-bottom and ensure Phase 1 → Phase 2 → Phase 3 flows logically with no gaps or contradictions\n6. **Verify consistency**: All hb commands use the same syntax style, all references use the same link format\n7. **Fix any issues found**: Typos, broken links, inconsistent formatting, missing transitions between sections\n8. **Add any missing transitions**: If Phase 1 ends abruptly before Phase 2, add a one-line transition sentence\n\n## Don't\n- Don't rewrite sections that are already correct\n- Don't add new features or phases\n- Don't exceed 500 lines total","acceptance_criteria":"1. SKILL.md has no placeholder comments remaining. 2. Total line count is under 500. 3. All 4 relative links resolve to existing files. 4. YAML frontmatter is valid. 5. Document reads coherently top-to-bottom. 6. All hb commands use consistent syntax.","status":"closed","priority":1,"issue_type":"task","assignee":"kzoeps","owner":"karma.gainforest.id","estimated_minutes":20,"created_at":"2026-02-18T01:14:18.462205139+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-18T01:21:41.685871066+06:00","closed_at":"2026-02-18T01:21:41.685871066+06:00","close_reason":"1c37cd8 verify: SKILL.md structure validated — all 4 links resolve, 210 lines, no placeholders, valid frontmatter","labels":["scope:trivial"],"dependencies":[{"issue_id":"agent-skills-5yx.9","depends_on_id":"agent-skills-5yx","type":"parent-child","created_at":"2026-02-18T01:14:18.463490968+06:00","created_by":"karma.gainforest.id"},{"issue_id":"agent-skills-5yx.9","depends_on_id":"agent-skills-5yx.6","type":"blocks","created_at":"2026-02-18T01:14:32.383491518+06:00","created_by":"karma.gainforest.id"},{"issue_id":"agent-skills-5yx.9","depends_on_id":"agent-skills-5yx.7","type":"blocks","created_at":"2026-02-18T01:14:32.432958339+06:00","created_by":"karma.gainforest.id"},{"issue_id":"agent-skills-5yx.9","depends_on_id":"agent-skills-5yx.8","type":"blocks","created_at":"2026-02-18T01:14:32.479683984+06:00","created_by":"karma.gainforest.id"}]}
{"id":"agent-skills-680","title":"Fix: coderabbitai[bot] login filter returns 0 comments (from agent-skills-5yx.1)","description":"Review of agent-skills-5yx.1 found: The script filters for .user_login == \"coderabbitai\" (line 89) but the GitHub API returns \"coderabbitai[bot]\" as the actual login value for CodeRabbit's bot account. This causes the script to always return [] on real PRs, making it completely non-functional.\n\nEvidence:\n- Running the script against https://github.com/hypercerts-org/hypercerts-scaffold-atproto/pull/7 (a PR known to have CodeRabbit comments) returned [] with 'Found 0 coderabbitai comment(s) total.'\n- Direct API check: gh api \"repos/hypercerts-org/hypercerts-scaffold-atproto/pulls/7/comments\" --jq '[.[] | .user.login] | unique' returns [\"coderabbitai[bot]\"]\n- The skill's own reference doc (references/gh-api-patterns.md line 22 and line 40) correctly documents the login as \"coderabbitai[bot]\" — the script contradicts its own reference.\n\nFix: Change line 89 of fetch-review-comments.sh from:\n  CR_COMMENTS=$(echo \"$ALL_COMMENTS\" | jq '[.[] | select(.user_login == \"coderabbitai\")]')\nto:\n  CR_COMMENTS=$(echo \"$ALL_COMMENTS\" | jq '[.[] | select(.user_login == \"coderabbitai[bot]\")]')\n\nAlso note: the --jq filter on line 73 stores .user.login as user_login, so the field name is correct — only the value is wrong.","status":"closed","priority":1,"issue_type":"bug","owner":"kzoepa@gmail.com","created_at":"2026-02-18T01:33:34.715590049+06:00","created_by":"kzoeps","updated_at":"2026-02-18T01:39:50.082712126+06:00","closed_at":"2026-02-18T01:39:50.082712126+06:00","close_reason":"684ccb6 Fixed by agent-skills-5yx.11 — changed filter to coderabbitai[bot]","dependencies":[{"issue_id":"agent-skills-680","depends_on_id":"agent-skills-5yx.1","type":"discovered-from","created_at":"2026-02-18T01:33:39.562260041+06:00","created_by":"kzoeps"}]}
{"id":"agent-skills-75m","title":"Fix: GraphQL query escaping breaks thread resolution check in fetch-review-comments.sh","description":"Review of the coderabbitai[bot] filter fix found a pre-existing bug: the GraphQL query in fetch-review-comments.sh uses backslash-escaped quotes inside a double-quoted bash string, producing literal backslash-quote characters that GitHub GraphQL rejects with: Expected VALUE, actual: UNKNOWN_CHAR. The REST API portion and coderabbitai[bot] filter work correctly (finds 12 comments), but the script exits with error before producing output. Fix: restructure GRAPHQL_QUERY construction in lines 124-138 to avoid the escaping issue (use printf, heredoc, or single-quoted strings). Affected file: skills/coderabbit-review-resolver/scripts/fetch-review-comments.sh","status":"closed","priority":1,"issue_type":"bug","owner":"kzoepa@gmail.com","created_at":"2026-02-18T01:42:26.379896338+06:00","created_by":"kzoeps","updated_at":"2026-02-18T01:45:40.373367915+06:00","closed_at":"2026-02-18T01:45:40.373367915+06:00","close_reason":"b9083a8 Fixed by agent-skills-5yx.16 — replaced string interpolation with gh api graphql -f variable flags","dependencies":[{"issue_id":"agent-skills-75m","depends_on_id":"agent-skills-5yx","type":"discovered-from","created_at":"2026-02-18T01:42:30.313019862+06:00","created_by":"kzoeps"}]}
{"id":"agent-skills-9ml","title":"Fix: fetch-review-comments.sh requires standalone jq as hard dependency (from agent-skills-5yx.1)","description":"Review of agent-skills-5yx.1 found: The script uses standalone jq in 12 places (lines 85, 89, 90, 101, 142-146, 148, 150, 154, 158, 162-166, 169, 171-172) but never checks for it as a dependency. The script header only checks for gh CLI. If jq is not installed, the script will fail with a cryptic 'command not found' error mid-execution rather than a clear error message at startup.\n\nThe task spec said to use 'gh api --jq' to avoid jq as a hard dependency, but the implementation uses gh api --jq only for the initial fetch (line 73) and then pipes to standalone jq -s (line 85) and uses standalone jq for all subsequent filtering and transformation.\n\nEvidence: Lines 85, 89, 90, 101, 142, 148, 150, 154, 158, 162, 169, 171 all call 'jq' directly.\n\nFix options (pick one):\n1. Add a jq dependency check at startup (simplest): add 'if ! command -v jq \u0026\u003e/dev/null; then echo \"Error: jq is required\" \u003e\u00262; exit 1; fi' after the gh check.\n2. Rewrite to avoid standalone jq entirely by using only gh api --jq and gh api graphql --jq (harder but removes the dependency).\n\nOption 1 is the minimal fix; option 2 fulfills the original spec intent.","status":"closed","priority":2,"issue_type":"bug","owner":"kzoepa@gmail.com","created_at":"2026-02-18T01:33:52.654751223+06:00","created_by":"kzoeps","updated_at":"2026-02-18T01:39:50.132602834+06:00","closed_at":"2026-02-18T01:39:50.132602834+06:00","close_reason":"684ccb6 Fixed by agent-skills-5yx.12 — added jq dependency check","dependencies":[{"issue_id":"agent-skills-9ml","depends_on_id":"agent-skills-5yx.1","type":"discovered-from","created_at":"2026-02-18T01:33:55.945813439+06:00","created_by":"kzoeps"}]}
